function dependOn(){"use strict";return[require("communicate"),require("common"),require("util"),require("proxy"),require("analytics"),require("acro-web2pdf")]}var def;require=function(e){"use strict";return e},def=window.define?window.define:function(e,n){"use strict";return n.apply(null,[{ajax:$.ajax.bind($)}])};var exports=acom_analytics={};def(dependOn(),function(t,e,n,o,r,i){"use strict";var s,a=null;for(s in a=a||new function(){this.proxy=o.proxy.bind(this),this.LOG=e.LOG,this.getVersion=function(n){function e(e){e&&(clearTimeout(o),e.optinState&&"false"===e.optinState?SETTINGS.ANALYTICS_OPT_IN=!1:1==+e.majorVersion?(r.event(r.e.SHIM_VERSION,{VERSION:"Unknown"}),r.shim="unknown"):0==+e.majorVersion?(r.event(r.e.SHIM_VERSION,{VERSION:"None"}),r.shim="none"):(r.event(r.e.SHIM_VERSION,{VERSION:e.majorVersion+"."+e.minorVersion}),r.shim=e.majorVersion+"."+e.minorVersion),t.setVersion(+e.majorVersion),n(+e.majorVersion))}var o;o=setTimeout(function(){e({messageType:"shimVersionInfo",majorVersion:"1",minorVersion:"0"})},2e3),i.getVersion(e)},this.openInAcrobat=function(o){if(1<t.version){o.panel_op="status",o.current_status="pdf_downloading",t.sendMessage(o);var r=n.newXHR();r.open("GET",o.url,!0),r.responseType="blob",r.onload=this.proxy(function(e){var n;r.status<400?((n=new FileReader).onloadend=function(e){o.base64PDF=e.target.result,i.openInAcrobat(o),o.content_op="status",o.current_status="pdf_downloaded",t.sendMessage(o)},n.readAsDataURL(r.response)):(o.panel_op="status",o.current_status="pdf_failure",t.sendMessage(o))}),r.send()}else chrome.downloads.download({url:o.url,conflictAction:"uniquify"})},this.open_converted_file=function(e){i.openFile(e)}})a.hasOwnProperty(s)&&("function"==typeof a[s]?exports[s]=a[s].bind(a):exports[s]=a[s]);return t.registerHandlers({open_in_acrobat:a.proxy(a.openInAcrobat),open_converted_file:a.proxy(a.open_converted_file)}),a});